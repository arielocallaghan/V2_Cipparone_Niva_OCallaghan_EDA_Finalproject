---
title: "df_combine"
author: "Ariel O'Callaghan"
date: "2022-12-05"
output: pdf_document
---

```{r setup, include=FALSE}
knitr::opts_chunk$set(echo = TRUE)

getwd()

#install packages
library(dplyr)
library(tidyverse)
library(plyr)

acs<- read.csv("./ProcessedData/acs.combined.years.csv",stringsAsFactors = TRUE)
coal<- read.csv("./ProcessedData/Coal.Clean.csv",stringsAsFactors = TRUE)
health<- read.csv("./ProcessedData/healthdf.csv",stringsAsFactors = TRUE)

#check column name that we want to join by
colnames(acs) #"County" "year" 
colnames(coal) #"County"  "Year" 
colnames(health) #"County"  "year"


#fix colmn name to have a lowercase y in year to match other data sets
colnames(coal) <- c("County", "year", "coal.prod.by.year", "year.peak.prod", "sum.coal.prod")

#df.2var<- left_join(coal,acs,health,by = "County","year")

df.complete.test.<- left_join(coal,acs,health,by = "County")
write.csv(df.complete.test., row.names = FALSE, file = "./ProcessedData/df.complete.test.csv") 

#JOIN COMMANDS BELOW DID NOT WORK

#df.cbind.3<-cbind.data.frame(health,acs,coal)

#df.cbind.2<-cbind.data.frame(health,acs,coal,check.names = TRUE)

#df.cbind<-cbind.data.frame(health,acs,coal,deparse.level = 1)
#df.merg.test<-merge(health,coal,acs,by="County", all.x= TRUE, all.y= TRUE)

#df.joinall<-join_all(list(health,coal,acs), by = 'rn', type = 'full')

#df.complete.test.6<- left_join(coal,acs,health,by = c("County","year"))

#df.test.7<-inner_join(health,coal,acs, by=NULL))

#df.test.5<-full_join(acs,health,coal, by=NULL)

#df.rbind<-rbind(acs,coal,health)

#df.merge<-merge.data.frame(health,coal,acs, by.x = "County")

#df.test.4<- left_join(health,coal,acs, by = "County")

#df.test.3<- left_join(health,coal,acs, by = c("County"))

#df.test.2<-left_join(acs,coal,health, by= "County", copy=FALSE)
          
#df.test<-full_join(acs, coal, health, by="County")

#completedf<-left_join(acs,coal,health, by="County")


```

## R Markdown

This is an R Markdown document. Markdown is a simple formatting syntax for authoring HTML, PDF, and MS Word documents. For more details on using R Markdown see <http://rmarkdown.rstudio.com>.

When you click the **Knit** button a document will be generated that includes both content as well as the output of any embedded R code chunks within the document. You can embed an R code chunk like this:

```{r cars}
summary(cars)
```

## Including Plots

You can also embed plots, for example:

```{r pressure, echo=FALSE}
plot(pressure)
```

Note that the `echo = FALSE` parameter was added to the code chunk to prevent printing of the R code that generated the plot.
